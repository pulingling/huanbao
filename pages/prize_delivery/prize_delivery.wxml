<!--pages/prize_delivery/prize_delivery.wxml-->
<view class="delivery-container">
  <!-- 表单区域 -->
  <view class="form-container">
    <!-- 收货人信息 -->
    <view class="form-section"> 
        <text class="section-title">请填写收货人信息</text>
     
      <view class="form-item">
        <text class="item-label">收货人姓名</text>
        <input 
          class="item-input" 
          type="text" 
          placeholder="请输入收货人姓名"
          placeholder-class="placeholder"
          value="{{name}}"
          bindinput="onNameInput"
        />
      </view>

      <view class="form-item">
        <text class="item-label">电话号码</text>
        <input 
          class="item-input" 
          type="number" 
          placeholder="请输入手机号码"
          placeholder-class="placeholder"
          value="{{phone}}"
          bindinput="onPhoneInput"
          maxlength="11"
        />
      </view>
    </view>

    <!-- 收货地址 -->
    <view class="form-section">
      <text class="section-title">收货地址</text>
      
      <view class="form-item">
        <text class="item-label">所在地区</text>
        <picker 
          class="region-picker" 
          mode="region" 
          value="{{region}}" 
          bindchange="onRegionChange"
        >
          <view class="picker-view">
            <text class="picker-text" wx:if="{{region[0]}}">{{region[0]}} {{region[1]}} {{region[2]}}</text>
            <text class="picker-placeholder" wx:else>请选择省市区</text>
          </view>
        </picker>
        <text class="picker-arrow">›</text>
      </view>

      <view class="form-item">
        <text class="item-label">详细地址</text>
        <textarea 
          class="item-textarea" 
          placeholder="请输入详细地址（街道、门牌号等）"
          placeholder-class="placeholder"
          value="{{detailAddress}}"
          bindinput="onDetailAddressInput"
          maxlength="200"
        />
      </view>
    </view>

    <!-- 备注信息 -->
    <view class="form-section">
      <text class="section-title">备注信息（选填）</text>
      
      <view class="form-item">
        <textarea 
          class="remark-textarea" 
          placeholder="如有特殊要求请在此备注"
          placeholder-class="placeholder"
          value="{{remark}}"
          bindinput="onRemarkInput"
          maxlength="500"
        />
      </view>
    </view>
  </view>

  <!-- 提交按钮 -->
  <view class="submit-btn-container">
    <button 
      class="submit-btn" 
      bindtap="onSubmit"
      disabled="{{!isFormValid}}"
    >
      提交信息
    </button>
  </view>

  <!-- 提交成功弹窗 -->
  <view class="success-modal" wx:if="{{showSuccess}}">
    <view class="modal-content">
      <view class="modal-icon">✓</view>
      <text class="modal-title">提交成功！</text>
      <text class="modal-desc">您的收货信息已提交，奖品将在7个工作日内寄出</text>
      <button class="modal-btn" bindtap="closeSuccess">确定</button>
    </view>
  </view>
</view>